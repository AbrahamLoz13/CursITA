<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Cursita - Tienda Online</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="../css/styles.css" />
</head>
<body>
  <header class="bg-primary text-white text-center py-4 shadow">
    <h1 class="fw-bold">Cursita</h1>
    <nav class="d-flex justify-content-center gap-3 mt-3">
      <a href="index.html" class="btn btn-outline-light fw-bold px-4 py-2 rounded-pill">Inicio</a>
      <a href="#cursos" class="btn btn-outline-light fw-bold px-4 py-2 rounded-pill">Cursos</a>
      <a href="nosotros.html" class="btn btn-outline-light fw-bold px-4 py-2 rounded-pill">Nosotros</a>
      <a href="#carrito" class="btn btn-outline-light fw-bold px-4 py-2 rounded-pill">Carrito</a>
    </nav>
  </header>

  <section class="hero text-center bg-light py-5">
    <h2 class="fw-bold text-primary">Explora los mejores cursos en línea</h2>
    <p class="text-secondary">Aprende a tu ritmo con nuestros cursos diseñados para ti.</p>
    <a href="#cursos" class="btn btn-primary btn-lg px-5 py-3 rounded-pill shadow-sm">Ver cursos</a>
  </section>

  <section id="cursos" class="container my-5">
    <h2 class="text-center text-primary fw-bold mb-4">Nuestros Cursos</h2>
    <div class="row g-4">
      <!-- Curso Java -->
      <div class="col-md-4">
        <div class="card shadow border-0">
          <img src="../img/java.png" class="card-img-top p-3" alt="Curso Java" />
          <div class="card-body text-center">
            <h2 class="card-title fw-bold text-primary">Curso Java</h2>
            <p class="card-text text-muted">Aprende el lenguaje de Java.</p>
            <p class="fw-bold text-success">$199.00</p>
            <button class="btn btn-primary rounded-pill px-4 add-to-cart" data-nombre="Curso Java" data-precio="199" data-img="../img/java.png">Añadir al carrito</button>
            <button class="btn btn-outline-secondary rounded-pill mt-2" data-bs-toggle="modal" data-bs-target="#modalJava">Ver detalles</button>
          </div>
        </div>
      </div>
      <!-- Curso Python -->
      <div class="col-md-4">
        <div class="card shadow border-0">
          <img src="../img/phyton.png" class="card-img-top p-3" alt="Curso Python" />
          <div class="card-body text-center">
            <h2 class="card-title fw-bold text-primary">Python desde cero</h2>
            <p class="card-text text-muted">Domina uno de los lenguajes más populares.</p>
            <p class="fw-bold text-success">$249.00</p>
            <button class="btn btn-primary rounded-pill px-4 add-to-cart" data-nombre="Python desde cero" data-precio="249" data-img="../img/phyton.png">Añadir al carrito</button>
            <button class="btn btn-outline-secondary rounded-pill mt-2" data-bs-toggle="modal" data-bs-target="#modalPython">Ver detalles</button>
          </div>
        </div>
      </div>
      <!-- Curso Redes -->
      <div class="col-md-4">
        <div class="card shadow border-0">
          <img src="../img/redes.png" class="card-img-top p-3" alt="Curso Redes" />
          <div class="card-body text-center">
            <h2 class="card-title fw-bold text-primary">Redes emergentes</h2>
            <p class="card-text text-muted">Aprende la administración de redes.</p>
            <p class="fw-bold text-success">$149.00</p>
            <button class="btn btn-primary rounded-pill px-4 add-to-cart" data-nombre="Redes emergentes" data-precio="149" data-img="../img/redes.png">Añadir al carrito</button>
            <button class="btn btn-outline-secondary rounded-pill mt-2" data-bs-toggle="modal" data-bs-target="#modalRedes">Ver detalles</button>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section class="container my-5 text-center">
    <h2 class="text-primary fw-bold mb-3">Síguenos en nuestras redes</h2>
    <div class="d-flex justify-content-center gap-4">
      <a href="https://facebook.com" target="_blank"><img src="../img/facebook.png" alt="Facebook" width="50" class="rounded-circle border border-primary shadow-sm"></a>
      <a href="https://twitter.com" target="_blank"><img src="../img/twitter.png" alt="Twitter" width="50" class="rounded-circle border border-primary shadow-sm"></a>
      <a href="https://instagram.com" target="_blank"><img src="../img/instagram.png" alt="Instagram" width="50" class="rounded-circle border border-primary shadow-sm"></a>
    </div>
  </section>

  <section id="carrito" class="container my-5">
    <h2 class="fw-bold text-primary text-center mb-4">Carrito de Compras</h2>
    <div id="lista-carrito" class="row g-3"></div>
    <p class="fw-bold fs-4 text-end">Total: $<span id="total">0</span></p>
    <div class="container text-end mb-5" id="btn-comprar-container">
      <button class="btn btn-success btn-lg px-5 py-3 rounded-pill shadow-sm" id="btn-comprar" style="display: none;">Comprar Ahora</button>
    </div>
  </section>

  <footer class="bg-primary text-white text-center p-3">
    <p class="mb-0">&copy; 2025 Cursita - Aprende a tu ritmo</p>
  </footer>

  <!-- MODALES DE CURSOS -->
  <!-- Modal Curso Java -->
  <div class="modal fade" id="modalJava" tabindex="-1" aria-labelledby="modalJavaLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content shadow-lg">
        <div class="modal-header">
          <h5 class="modal-title text-primary fw-bold" id="modalJavaLabel">Curso Java</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
        </div>
        <div class="modal-body">
          <img src="../img/java.png" class="img-fluid mb-3" alt="Curso Java">
          <p><strong>Descripción:</strong> Aprende programación orientada a objetos, estructuras de datos y creación de aplicaciones con Java.</p>
          <p><strong>Duración:</strong> 8 semanas</p>
          <p><strong>Docentes:</strong> Mtro. Juan Pérez, Ing. Laura González</p>
          <p><strong>Incluye:</strong> Acceso de por vida, proyectos, certificado digital.</p>
          <p><strong>Precio:</strong> $199.00</p>
        </div>
        <div class="modal-footer">
          <button class="btn btn-primary add-to-cart" data-nombre="Curso Java" data-precio="199" data-img="../img/java.png">Añadir al carrito</button>
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal Curso Python -->
  <div class="modal fade" id="modalPython" tabindex="-1" aria-labelledby="modalPythonLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content shadow-lg">
        <div class="modal-header">
          <h5 class="modal-title text-primary fw-bold" id="modalPythonLabel">Python desde cero</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
        </div>
        <div class="modal-body">
          <img src="../img/phyton.png" class="img-fluid mb-3" alt="Curso Python">
          <p><strong>Descripción:</strong> Aprende desde lo básico hasta temas avanzados de Python, ideal para desarrollo web y análisis de datos.</p>
          <p><strong>Duración:</strong> 10 semanas</p>
          <p><strong>Docentes:</strong> Dra. Sofía Ramírez, Mtro. Carlos Ortega</p>
          <p><strong>Incluye:</strong> Clases grabadas, ejercicios prácticos, comunidad de soporte.</p>
          <p><strong>Precio:</strong> $249.00</p>
        </div>
        <div class="modal-footer">
          <button class="btn btn-primary add-to-cart" data-nombre="Python desde cero" data-precio="249" data-img="../img/phyton.png">Añadir al carrito</button>
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal Curso Redes -->
  <div class="modal fade" id="modalRedes" tabindex="-1" aria-labelledby="modalRedesLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content shadow-lg">
        <div class="modal-header">
          <h5 class="modal-title text-primary fw-bold" id="modalRedesLabel">Redes emergentes</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
        </div>
        <div class="modal-body">
          <img src="../img/redes.png" class="img-fluid mb-3" alt="Curso Redes">
          <p><strong>Descripción:</strong> Aprende configuración, administración y seguridad en redes modernas para empresas.</p>
          <p><strong>Duración:</strong> 6 semanas</p>
          <p><strong>Docentes:</strong> Ing. Luis Méndez, Mtra. Ana Torres</p>
          <p><strong>Incluye:</strong> Laboratorios virtuales, evaluaciones, soporte técnico.</p>
          <p><strong>Precio:</strong> $149.00</p>
        </div>
        <div class="modal-footer">
          <button class="btn btn-primary add-to-cart" data-nombre="Redes emergentes" data-precio="149" data-img="../img/redes.png">Añadir al carrito</button>
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Toast Notificación -->
  <div class="position-fixed bottom-0 end-0 p-3" style="z-index: 11">
    <div id="toastAgregado" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
      <div class="toast-header bg-primary text-white">
        <strong class="me-auto">Cursita</strong>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="toast" aria-label="Close"></button>
      </div>
      <div class="toast-body">
        Curso agregado al carrito correctamente
      </div>
    </div>
    
    <div id="toastCompra" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
      <div class="toast-header bg-success text-white">
        <strong class="me-auto">Cursita</strong>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="toast" aria-label="Close"></button>
      </div>
      <div class="toast-body">
        Compra realizada con éxito. Redirigiendo a tus cursos...
      </div>
    </div>
  </div>

<!-- Modal de Pago -->
<div class="modal fade" id="modalPago" tabindex="-1" aria-labelledby="modalPagoLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header bg-primary text-white">
        <h5 class="modal-title" id="modalPagoLabel">Finalizar Compra</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <form id="form-pago">
          <div class="mb-3">
            <label for="metodo-pago" class="form-label">Método de Pago</label>
            <select class="form-select" id="metodo-pago" name="metodo_pago" required>
              <option value="" selected disabled>Selecciona un método</option>
              <option value="tarjeta">Tarjeta de Crédito/Débito</option>
              <option value="paypal">PayPal</option>
              <option value="transferencia">Transferencia Bancaria</option>
            </select>
          </div>
          <div id="tarjeta-info" style="display: none;">
            <div class="mb-3">
              <label for="numero-tarjeta" class="form-label">Número de Tarjeta</label>
              <input type="text" class="form-control" id="numero-tarjeta" name="numero_tarjeta" placeholder="1234 5678 9012 3456">
            </div>
            <div class="row">
              <div class="col-md-6 mb-3">
                <label for="fecha-expiracion" class="form-label">Fecha de Expiración</label>
                <input type="text" class="form-control" id="fecha-expiracion" name="fecha_expiracion" placeholder="MM/AA">
              </div>
              <div class="col-md-6 mb-3">
                <label for="cvv" class="form-label">CVV</label>
                <input type="text" class="form-control" id="cvv" name="cvv" placeholder="123">
              </div>
            </div>
          </div>
          <div class="d-grid gap-2">
            <button type="submit" class="btn btn-primary" id="btn-confirmar-pago">Confirmar Pago</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
<script>
  const carrito = [];
  const listaCarrito = document.getElementById("lista-carrito");
  const totalSpan = document.getElementById("total");
  const btnComprar = document.getElementById("btn-comprar");

  // Agregar curso al carrito
  document.querySelectorAll(".add-to-cart").forEach(boton => {
    boton.addEventListener("click", () => {
      const nombre = boton.getAttribute("data-nombre");
      const precio = parseFloat(boton.getAttribute("data-precio"));
      const img = boton.getAttribute("data-img");

      carrito.push({ nombre, precio, img });
      actualizarCarrito();
    });
  });

  // Actualizar visual del carrito
  function actualizarCarrito() {
    listaCarrito.innerHTML = "";
    let total = 0;

    carrito.forEach((curso, index) => {
      total += curso.precio;

      const item = document.createElement("div");
      item.classList.add("col-md-4");
      item.innerHTML = `
        <div class="card shadow border-0 h-100">
          <img src="${curso.img}" class="card-img-top p-3" alt="${curso.nombre}">
          <div class="card-body text-center">
            <h5 class="card-title fw-bold text-primary">${curso.nombre}</h5>
            <p class="card-text text-success fw-bold">$${curso.precio.toFixed(2)}</p>
            <button class="btn btn-danger btn-sm rounded-pill" onclick="eliminarCurso(${index})">Eliminar</button>
          </div>
        </div>
      `;
      listaCarrito.appendChild(item);
    });

    totalSpan.textContent = total.toFixed(2);
    btnComprar.style.display = carrito.length > 0 ? "inline-block" : "none";
  }

  // Eliminar curso del carrito
  function eliminarCurso(index) {
    carrito.splice(index, 1);
    actualizarCarrito();
  }

  // Confirmar compra
  btnComprar.addEventListener("click", () => {
    if (carrito.length === 0) return;

    const cursosComprados = carrito.map(c => c.nombre).join(", ");
    const total = totalSpan.textContent;

    // Simular confirmación
    alert(`¡Gracias por tu compra!\n\nCursos: ${cursosComprados}\nTotal pagado: $${total}`);

    // Aquí podrías hacer un fetch/POST a PHP o guardar en localStorage si deseas

    // Vaciar carrito
    carrito.length = 0;
    actualizarCarrito();
  });
</script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <script src="../js/carrito.js"></script>
</body>
</html>